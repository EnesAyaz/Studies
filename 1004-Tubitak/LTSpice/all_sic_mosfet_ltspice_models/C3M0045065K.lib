
**************************************************************************************************************************************************************************************************
*
*     888888               888888 	        888888     .o888888888888o.     8888  		88888888888	o888888888888888     88888888888888o	88888888888   88888888888   8888888888o
*       88888             88888888             88888      .8888888  8888888.    8888  		88888888888    o8888888888888888     888888  8888888o	88888888888   88888888888   88888888888o
*        88888           8888  8888           88888      .8888888.  .8888888.   8888  		8888	       888888888	     888888  88888888	8888	      8888	    8888   88888
*         88888         8888    8888         88888       88888888    88888888   8888		8888   	       888888888	     888888  88888888	8888	      8888	    8888   88888
*	   88888       8888      8888       88888        88888888    88888888   8888  		8888888	       o888888888888888o     888888  8888888o	8888888	      8888888	    8888   88888
*	    88888     8888        8888     88888	 88888888    88888888   8888  		8888888		o888888888888888o    88888888888888o	8888888	      8888888       8888   88888
*	     88888   8888          8888   88888          88888888    88888888   8888  		8888		         88888888    8888		8888	      8888	    8888   88888
*	      88888 8888            8888 88888  	 .8888888.  .8888888.   8888  		8888 			 88888888    8888		8888	      8888	    8888   88888
*	       88888888	 	     88888888		  .8888888  8888888.    88888888888	8888		8888888888888888o    8888		88888888888   88888888888   88888888888o
*		888888		      888888  		   .o888888888888o.     88888888888	8888		888888888888888o     8888		88888888888   88888888888   8888888888o
*
**************************************************************************************************************************************************************************************************
*******************************************************************************
**	DISCLAIMER
*******************************************************************************
**	This model is provided as is, where is, and with no warranty of any kind
**	either expressed or implied, including but not limited to any implied
**	warranties of merchantability and fitness for a particular purpose.
*******************************************************************************

***********************************************************
****	Wolfspeed SiC MOSFET C3M0045065K Spice Library
****	Version 1.0 Date: 01-19-2021
****
***********************************************************
****	Revision record
****	Revision 1	Initial Release, Datasheet Rev 1, 1-2021
****
*********************************************************************************
****Parasitics Included
****Tj = Junction Temperature
****Tc = Case Temperature
****D = Drain
****G = Gate
****S1 = Kelvin Source
****S2 = Power Source
***********************************************************

.subckt C3M0045065K d g s1 s2 Tj Tc
.param p11 = -8
.param p12 = 19
.param Rgint = 3

R1022	Tjc	0	1E6
E1022	Tjc	0 	value {limit(v(Tj),-55,260)}

R100	gk	s	1E6
E100	gk	s 	value {limit(v(g1,s),-8,19)}

e33		NET3	0	Value {-127.23n*V(Tjc)**3+42u*V(Tjc)**2-6.975m*V(Tjc)+2.7622}
R_cc		NET3	0 	1E6

xgmos	d3 d1 gk s Tjc NET3 gmos_C3M0045065K

RS1		s1	sb	9.61m
Ls1 		sb	sv	5.818n

RS2		s2	sa	1.82m
Ls2 		sa	sv	1.615n

Lv		sv	s	0.15n

R_g 		g1	g2	{Rgint}
RG		g	ga	13.11m
Lg 		ga	g2	7.872n


Rd		d	da	87.416u
Ld 		da	d3      4.366n
R_Ld		da	d3	5

Ed		Id	0	value {I(Vdrain_s)}
Rdd		Id	0	1E6

vdrain_s	d3	d1	0
Gheat		0	Tj	value = {abs((V(d1,s)*v(Id)))+abs((V(g1,g2)**2/Rgint))}

xCGD		d3	g1	cgdmos_C3M0045065K
CGS		g1	s	1613p

*e16		dd1	d1	value {10}
e15		dd1	d1	value {
+				if (V(gk,s)>V(NET3),
+					((-6.88m*V(Tjc)**2+0.214*V(Tjc)+322.45)*(V(gk,s)**2)+
+					(82.06m*V(Tjc)**2+1.9694*V(Tjc)-2292.5)*v(gk,s)+
+					(-0.1328*V(Tjc)**2+1.7262*V(Tjc)+681.56))/1000
+					,
+					((5.963u*V(Tjc)**2+0.1345*V(Tjc)-20.859)*(V(gk,s)**2)+
+					(2.182m*V(Tjc)**2+0.7635*V(Tjc)-490.45)*v(gk,s)+
+					(8.825m*V(Tjc)**2+0.9016*V(Tjc)-1628.1))/1000
+					)
+					}

D1		s	dd1	bodydiode_C3M0045065K
xCDS		d1	s	cds_C3M0045065K
*CDS1		d3	s	1p
R_DS1		d1	s	0.3G

R0 N1 Tj 0.1315
R1 N2 N1 0.2833
R2 N3 N2 0.2236
R3 Tc N3 0.2118

C0 Tj 0 0.9357m
C1 N1 0 4.604m
C2 N2 0 23.89m
C3 N3 0 0.2139

.ends C3M0045065K
*****************************************

.subckt gmos_C3M0045065K d3 d1 gk s Tjc NET3

e2		NET2	0	Value {((-1.264u*V(Tjc)**2+80.88u*V(Tjc)-92.63m)*V(gk,s)**4+
+				(50.86u*V(Tjc)**2-6.191m*V(Tjc)+4.652)*v(gk,s)**3+
+				(-439.1u*V(Tjc)**2+0.1205*V(Tjc)-77.68)*v(gk,s)**2+
+				(-2.504m*V(Tjc)**2-0.799*V(Tjc)+528.9)*v(gk,s)+
+				(22.6m*V(Tjc)**2+2.805*V(Tjc)-751.3))/1000
+			}
R_B		NET2	0 	1E6

e4		NET4	0	Value {Limit(((35.206u*V(Tjc)**2-22.24m*V(Tjc)+1.414)*(V(gr)**2)+
+					(-1.913m*V(Tjc)**2+0.7067*V(Tjc)-44.071)*v(gr)+
+					(22.068m*V(Tjc)**2-5.854*V(Tjc)+348.55))/1000,0,1)
+					}
R_d		NET4	0 	1E6

*e7		P7	0	value {0.16}
e9		P9	0	value {Limit(((-767u*V(Tjc)**2+0.1423*V(Tjc)+26.121)*(V(gr)**2)+
+					(21.85m*V(Tjc)**2-3.518*V(Tjc)-743.69)*v(gr)+
+					(-0.1584*V(Tjc)**2+20.701*V(Tjc)+5441.5))/1000,0.001,10)
+					}
R9		P9	0	1E6

e6		NET6   0	Value {0.018}
e5		NET5   0	Value {Limit(((-249.21n*V(Tjc)**2-2.4439m*V(Tjc)+0.35955)*V(gk,s)**4+
+				(81.097n*V(Tjc)**2+0.12957*V(Tjc)-17.431)*V(gk,s)**3+
+				(377.58u*V(Tjc)**2-2.3939*V(Tjc)+286.912)*V(gk,s)**2+
+				(-8.409m*V(Tjc)**2+17.506*V(Tjc)-1865.469)*v(gk,s)+
+				(49.999m*V(Tjc)**2-38.687*V(Tjc)+5102.013))/10000,0.001,13)
+			}
R_e		NET5	0 	1E6

R1001 gr 0	1E6
E1001 gr 0	value {limit(V(gk,s),-8,15)}

e_P8	P8	0	Value {8.511m-8.065m*exp(-46.27*V(gk,s)**(-2.834))}
*e_P8	P8	0	Value {494.4n*V(gk,s)**4-27.73u*V(gk,s)**3+574.4u*V(gk,s)**2-5.251m*V(gk,s)+18.74m}
R_R	P8	0 	1E6

********************************
G1 d1 s value {
+	if(V(s,d3)<0,
+		0
+		,
+		if (V(gk,s)<V(NET3),
+		0
+		,
+		-((((v(NET5)+v(NET4))*(v(gk,s)-V(NET3))))*(1+v(P9)*v(s,d3))*(((log(1+exp(v(gk,s)-V(NET3))))**2)-
+		((log(1+exp(v(gk,s)-V(NET3)-(V(NET2)*v(s,d3)))))**2)))
+		)
+			)
+			}
G2 d1 s value {
+	if(V(d3,s)<0,
+		0
+		,
+		if (V(gk,s)<V(NET3),
+		0
+		,
+		((((v(NET5))*(v(gk,s)-V(NET3))))*(1+v(P8)*v(d3,s))*(((log(1+exp(v(gk,s)-V(NET3))))**2)-
+		((log(1+exp(v(gk,s)-V(NET3)-(V(NET2)*v(d3,s)))))**2)))*0.97
+		)
+			)
+			}

.ends gmos_C3M0045065K

****************************************

.subckt cgdmos_C3M0045065K d3 g1
.param k1=715p
.param k2=0.44
.param ka=99
.param kb=0.35
.param kc=3.6
G11 g1 d1 value {
+		k1*(
+		(1+(limit(v(d3,g1),0,250))*(1+ka*(1+TANH(kb*V(d3,g1)-kc))/2))**(-k2)
+		)*ddt(v(g1,d3))
+			}
R_CGD d1 d3 1E-4
.ends cgdmos_C3M0045065K


.subckt cds_C3M0045065K d3 s

.param Cjo = 1222p
.param Vj  = 3.3
.param M   = 0.52

G12 d1 s value {
*+	if(V(d3,s)>0,
+		(Cjo/(1+(limit(v(d3,s),0.1,400)/Vj)**M))*ddt(v(d3,s));
*+		,
*+		0
*+			)
+			}
R_CDS d1 d3 1E-4



.ends cds_C3M0045065K

****************************************
.model bodydiode_C3M0045065K d(is=20n bv=929 EG=5.98 n=9
+	rs=0.051  trs1=-0.0016  trs2=10u Tnom=25
+	tt=0.5n ibv=500u Xti=0.01 level=1)
