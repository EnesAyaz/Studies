
**************************************************************************************************************************************************************************************************
*
*     888888               888888 	        888888     .o888888888888o.     8888  		88888888888	o888888888888888     88888888888888o	88888888888   88888888888   8888888888o
*       88888             88888888             88888      .8888888  8888888.    8888  		88888888888    o8888888888888888     888888  8888888o	88888888888   88888888888   88888888888o
*        88888           8888  8888           88888      .8888888.  .8888888.   8888  		8888	       888888888	     888888  88888888	8888	      8888	    8888   88888
*         88888         8888    8888         88888       88888888    88888888   8888		8888   	       888888888	     888888  88888888	8888	      8888	    8888   88888
*	   88888       8888      8888       88888        88888888    88888888   8888  		8888888	       o888888888888888o     888888  8888888o	8888888	      8888888	    8888   88888
*	    88888     8888        8888     88888	 88888888    88888888   8888  		8888888		o888888888888888o    88888888888888o	8888888	      8888888       8888   88888
*	     88888   8888          8888   88888          88888888    88888888   8888  		8888		         88888888    8888		8888	      8888	    8888   88888
*	      88888 8888            8888 88888  	 .8888888.  .8888888.   8888  		8888 			 88888888    8888		8888	      8888	    8888   88888
*	       88888888	 	     88888888		  .8888888  8888888.    88888888888	8888		8888888888888888o    8888		88888888888   88888888888   88888888888o
*		888888		      888888  		   .o888888888888o.     88888888888	8888		888888888888888o     8888		88888888888   88888888888   8888888888o
*
**************************************************************************************************************************************************************************************************
*******************************************************************************
**	DISCLAIMER
*******************************************************************************
**	This model is provided as is, where is, and with no warranty of any kind
**	either expressed or implied, including but not limited to any implied
**	warranties of merchantability and fitness for a particular purpose.
*******************************************************************************

***********************************************************
****	Wolfspeed SiC MOSFET C3M0016120K Spice Library
****	Version 1.0 Date: 05-17-2019
****	Version 2.0 Date: 11-12-2019
***********************************************************
****	Revision record
****	Revision 1	Initial Release
****	Revision 2	Improved the accuracy of the IV curves
*********************************************************************************
****Parasitics Included
****Tj = Junction Temperature
****Tc = Case Temperature
****D = Drain
****G = Gate
****S1 = Kelvin Source
****S2 = Power Source
***********************************************************


.subckt C3M0016120K d g s1 s2 Tj Tc 
.param Rgint = 2.6
xgmos	d3 d1 g1 s Tj vv gmos_C3M0016120K

RS1		s1	sb	8.4m
Ls1 		sb	sv	7.2834n

RS2		s2	sa	0.7264m
Ls2 		sa	sv	2.37781n

*Rv		sv	st	133u
Lv		sv	s	0.5n


R_g 		g1	g2	{Rgint}
RG		g	ga	12.8048m
Lg 		ga	g2	10.9319n


Rd		d	da	87.416u
Ld 		da	d3      4.3659n
R_Ld		da	d3	5

Ed		Id	0	value {I(Vdrain_s)}
Rdd		Id	0	1E6

Egk		vv	0	value {v(g1,sv)}
Rgk		vv	0	1E6


vdrain_s	d3	d1	0
Gheat		0	Tj	value = {abs((V(d1,s)*v(Id)))+abs((V(g1,g2)**2/Rgint))}

xCGD		d3	g1	cgdmos_C3M0016120K
CGS		g1	s	6072p
D1		s	d1	bodydiode_C3M0016120K
xCDS		d3	s	cds_C3M0016120K
CDS1		d3	s	1p

R0 N1 Tj 41.15m
R1 N2 N1 90.58m
R2 N3 N2 47.43m
R3 Tc N3 91.1m
C0 Tj 0 2.803m
C1 N1 0 16.49m
C2 N2 0 42.52m
C3 N3 0 129.6m

.ends C3M0016120K

*****************************************

.subckt gmos_C3M0016120K d3 d1 g1 s Tj vv 

e1		NET1	0	Value {((-255.2u*V(Tj)**2+37.84m*V(Tj)-1.62)*(V(gk,s)**3)+
+					(6.641m*V(Tj)**2-918.8m*V(Tj)+63.82)*(V(gk,s)**2)+
+					(-53.83m*V(Tj)**2+6.374*V(Tj)-674.9)*v(gk,s)+
+					(112.1m*V(Tj)**2-9.35*V(Tj)+3313))/1000
+					}
R_a		NET1	0 	1E6

e2		NET2	0	Value {15.35m*V(gk,s)+371.85m}
R_B		NET2	0 	1E6

e3		NET3	0	Value {7u*(V(Tj)**2)-4.9m*V(Tj)+2.6921}
R_C		NET3	0 	1E6

e4		NET4	0	Value {limit(1/(2.4647m*V(Tj)**2+1.0626*V(Tj)+71.8943),0.002,0.055)}
R_d		NET4	0 	1E6

e5		NET5	0	value {limit(((1.737545u*V(Tj)**2-227.6679u*V(Tj)-11.94098m)*(V(ge)**5)+
+					(-98.95912u*V(Tj)**2+12.47161m*V(Tj)+0.673499)*(V(ge)**4)+
+					(2.102054m*V(Tj)**2-0.2524409*V(Tj)-13.88152)*(V(ge)**3)+
+					(-20.40363m*V(Tj)**2+2.324816*V(Tj)+125.9153)*(V(ge)**2)+
+					(88.69208m*V(Tj)**2-9.925428*V(Tj)-493.0806)*v(ge)+
*+					(88.692m*V(Tj)**2-9.9255*V(Tj)-493.01)*v(ge)+
*+					(-0.1411*V(Tj)**2+18.65*V(Tj)+995.5)),3,1200)/1000
+					(-0.1410682*V(Tj)**2+18.64979*V(Tj)+995.5209)),3,1200)/1000
+					}
R_e		NET5	0 	1E6

e10		NET10   0	Value {Limit(((-354.3u*V(Tj)**2+76.423m*V(Tj)-1.064)*(V(gk,s)**3)+
+					(12.427m*V(Tj)**2-2.659*V(Tj)+35.5723)*(V(gk,s)**2)+
+					(-140.3m*V(Tj)**2+29.81*V(Tj)-398.2)*v(gk,s)+
+					(505.64m*V(Tj)**2-107.4*V(Tj)+1671.3))/1000,0,1)
+				      }
R_K		NET10	0	1E6

.param p10  = 0.0011
.param p11 = -8
.param p12 = 19
.param p13 = 15

*e_p8	P8	0	Value {0.0011}
e_p8	P8	0	Value {Limit(((-4.804u*V(Tj)**2+1.312m*V(Tj)-0.105)*(V(gk,s)**3)+
+					(39.27u*V(Tj)**2-24.21m*V(Tj)+3.489)*(V(gk,s)**2)+
+					(343.8u*V(Tj)**2+70.85m*V(Tj)-20.6)*v(gk,s)+
+					(-1.195m*V(Tj)**2-10.84m*V(Tj)+41.48))/1000,0.001,1)
+					}
R_R	P8	0 	1E6

R100 gk s	1E6
E100 gk s 	value {limit(v(g1,s),p11,p12)}

R101 ge 0	1E6
E101 ge 0 	value {limit(v(vv),p11,p13)}

********************************
G1 d1 s value {
+	if(V(s,d3)<0,
+		0
+		,
+		if (V(gk,s)<V(NET3),
+		-((0.035)*(v(gk,s)-V(NET3)))*(-(1+p10*v(s,d3))*0.008)*(((log(1+exp(v(gk,s)-V(NET3))))**2)-
+		((log(1+exp(v(gk,s)-V(NET3)-(0.854*v(s,d3)))))**2))
+		,
*+		0
+		-((((v(NET5)+v(NET4))*(v(gk,s)-V(NET3))))*(1+v(P8)*v(s,d3))*(((log(1+exp(v(gk,s)-V(NET3))))**2)-
+		((log(1+exp(v(gk,s)-V(NET3)-(V(NET2)*v(s,d3)*((1+exp(-v(NET10)*v(s,d3)))**v(NET1))))))**2)))
+		)
+			)
+			}
G2 d1 s value {
+	if(V(d3,s)<0,
+		0
+		,
+		if (V(gk,s)<V(NET3),
+		((0.035)*(v(gk,s)-V(NET3)))*(-(1+p10*v(d3,s))*0.008)*(((log(1+exp(v(gk,s)-V(NET3))))**2)-
+		((log(1+exp(v(gk,s)-V(NET3)-(0.854*v(d3,s)))))**2))
+		,
+		(((v(NET5))*(v(gk,s)-V(NET3))))*(1+v(P8)*v(d3,s))*(((log(1+exp(v(gk,s)-V(NET3))))**2)-
+		((log(1+exp(v(gk,s)-V(NET3)-(V(NET2)*v(d3,s)*((1+exp(-v(NET10)*v(d3,s)))**v(NET1))))))**2))
+		)
+			)
+			}


.ends gmos_C3M0016120K

****************************************

.subckt cgdmos_C3M0016120K d3 g1
.param k1=2565p
.param k2=0.5
.param ka=70
.param kb=0.3
.param kc=4.03
G11 g1 d1 value {
+		k1*(
+		(1+(limit(v(d3,g1),0,600))*(1+ka*(1+TANH(kb*V(d3,g1)-kc))/2))**-k2
+		)*ddt(v(g1,d3))
+			}
R_CGD d1 d3 1E-4
.ends cgdmos_C3M0016120K


.subckt cds_C3M0016120K d3 s

.param Cjo = 5179p
.param Vj  = 4.4365
.param M   = 0.643

G12 d1 s value {
+	if(V(d3,s)>0,
+		(Cjo/(1+(limit(v(d3,s),0,580)/Vj)**M))*ddt(v(d3,s));
+		,
+		0
+			)
+			}

R_CDS d1 d3 1E-4

.ends cds_C3M0016120K

****************************************
.model bodydiode_C3M0016120K d(is=400n bv=1590 EG=5.5 n=8.5
+	rs=0.0115  trs1=0.0005  trs2=-0.000011 Tnom=25
+	tt=1.5n ibv=500u Xti=0.13 level=1)
